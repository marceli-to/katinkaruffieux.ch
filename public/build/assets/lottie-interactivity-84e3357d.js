var ee=(x,h)=>()=>(h||x((h={exports:{}}).exports,h),h.exports);var te=ee((Y,J)=>{(function(x,h){typeof Y=="object"&&typeof J<"u"?h(Y):typeof define=="function"&&define.amd?define(["exports"],h):h((x=x||self).LottieInteractivity={})})(globalThis,function(x){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function K(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function Q(o,r){for(var l=0;l<r.length;l++){var e=r[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function q(o,r,l){return r in o?Object.defineProperty(o,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[r]=l,o}function B(o,r){if(o==null)return{};var l,e,m=function(f,c){if(f==null)return{};var s,I,M={},F=Object.keys(f);for(I=0;I<F.length;I++)s=F[I],c.indexOf(s)>=0||(M[s]=f[s]);return M}(o,r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);for(e=0;e<y.length;e++)l=y[e],r.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(o,l)&&(m[l]=o[l])}return m}function t(o,r){var l=r.get(o);if(!l)throw new TypeError("attempted to get private field on non-instance");return l.get?l.get.call(o):l.value}var U={player:"lottie-player"},O="[lottieInteractivity]:",V=function(){function o(){var e=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U,y=m.actions,f=m.container,c=m.mode,s=m.player,I=B(m,["actions","container","mode","player"]);if(K(this,o),X.set(this,{writable:!0,value:function(){if(e.player){var n=function(){e.player.addEventListener("enterFrame",t(e,T)),e.container.addEventListener("mouseenter",t(e,u)),e.container.addEventListener("mouseleave",t(e,v)),e.container.addEventListener("touchstart",t(e,u),{passive:!0}),e.container.addEventListener("touchend",t(e,v),{passive:!0})},i=function(){e.container.addEventListener("mouseenter",t(e,u)),e.container.addEventListener("mouseleave",t(e,v)),e.container.addEventListener("touchstart",t(e,u),{passive:!0}),e.container.addEventListener("touchend",t(e,v),{passive:!0})};e.stateHandler.set("loop",function(){e.actions[e.interactionIdx].loop?e.player.loop=parseInt(e.actions[e.interactionIdx].loop)-1:e.player.loop=!0,e.player.autoplay=!0}),e.stateHandler.set("autoplay",function(){e.player.loop=!1,e.player.autoplay=!0}),e.stateHandler.set("click",function(){e.player.loop=!1,e.player.autoplay=!1,e.container.addEventListener("click",t(e,w))}),e.stateHandler.set("hover",function(){e.player.loop=!1,e.player.autoplay=!1,e.container.addEventListener("mouseenter",t(e,w)),e.container.addEventListener("touchstart",t(e,w),{passive:!0})}),e.stateHandler.set("hold",i),e.stateHandler.set("pauseHold",i),e.transitionHandler.set("click",function(){e.container.addEventListener("click",t(e,d))}),e.transitionHandler.set("hover",function(){e.container.addEventListener("mouseenter",t(e,d)),e.container.addEventListener("touchstart",t(e,d),{passive:!0})}),e.transitionHandler.set("hold",n),e.transitionHandler.set("pauseHold",n),e.transitionHandler.set("repeat",function(){e.player.loop=!0,e.player.autoplay=!0,e.player.addEventListener("loopComplete",function p(){t(e,_).call(e,{handler:p})})}),e.transitionHandler.set("onComplete",function(){e.actions[e.interactionIdx].state==="loop"?e.player.addEventListener("loopComplete",t(e,b)):e.player.addEventListener("complete",t(e,b))}),e.transitionHandler.set("seek",function(){e.player.stop(),e.player.addEventListener("enterFrame",t(e,A)),e.container.addEventListener("mousemove",t(e,k)),e.container.addEventListener("touchmove",t(e,P),{passive:!1}),e.container.addEventListener("mouseout",t(e,S))})}}}),w.set(this,{writable:!0,value:function(){var n=e.actions[e.interactionIdx].forceFlag;n||e.player.isPaused!==!0?n&&t(e,j).call(e,!0):t(e,j).call(e,!0)}}),N.set(this,{writable:!0,value:function(){e.clickCounter===0?(e.player.play(),e.clickCounter++):(e.clickCounter++,e.player.setDirection(-1*e.player.playDirection),e.player.play())}}),d.set(this,{writable:!0,value:function(){var n=e.actions[e.interactionIdx].forceFlag,i=e.actions[e.interactionIdx].state,p=e.actions[e.interactionIdx].transition;if(e.mode==="chain"){if(e.actions[e.interactionIdx].count){var a=parseInt(e.actions[e.interactionIdx].count);if(e.clickCounter<a-1)return void(e.clickCounter+=1)}return e.clickCounter=0,!n&&p==="click"&&i==="click"||p==="hover"&&i==="hover"?e.transitionHandler.get("onComplete").call():e.nextInteraction(),e.container.removeEventListener("click",t(e,d)),void e.container.removeEventListener("mouseenter",t(e,d))}n||e.player.isPaused!==!0?n&&e.player.goToAndPlay(0,!0):e.player.goToAndPlay(0,!0)}}),k.set(this,{writable:!0,value:function(n){t(e,H).call(e,n.clientX,n.clientY)}}),P.set(this,{writable:!0,value:function(n){n.cancelable&&n.preventDefault(),t(e,H).call(e,n.touches[0].clientX,n.touches[0].clientY)}}),S.set(this,{writable:!0,value:function(){t(e,H).call(e,-1,-1)}}),b.set(this,{writable:!0,value:function(){e.actions[e.interactionIdx].state==="loop"?e.player.removeEventListener("loopComplete",t(e,b)):e.player.removeEventListener("complete",t(e,b)),e.nextInteraction()}}),_.set(this,{writable:!0,value:function(n){var i=n.handler,p=1;e.actions[e.interactionIdx].repeat&&(p=e.actions[e.interactionIdx].repeat),e.playCounter>=p-1?(e.playCounter=0,e.player.removeEventListener("loopComplete",i),e.player.loop=!1,e.player.autoplay=!1,e.nextInteraction()):e.playCounter+=1}}),A.set(this,{writable:!0,value:function(){var n=e.actions[e.interactionIdx].frames;n&&e.player.currentFrame>=parseInt(n[1])-1&&(e.player.removeEventListener("enterFrame",t(e,A)),e.container.removeEventListener("mousemove",t(e,k)),e.container.removeEventListener("mouseout",t(e,S)),setTimeout(e.nextInteraction,0))}}),T.set(this,{writable:!0,value:function(){var n=e.actions[e.interactionIdx].frames;(n&&e.player.currentFrame>=n[1]||e.player.currentFrame>=e.player.totalFrames-1)&&(e.player.removeEventListener("enterFrame",t(e,T)),e.container.removeEventListener("mouseenter",t(e,u)),e.container.removeEventListener("mouseleave",t(e,v)),e.container.removeEventListener("touchstart",t(e,u),{passive:!0}),e.container.removeEventListener("touchend",t(e,v),{passive:!0}),e.player.pause(),e.holdStatus=!1,e.nextInteraction()),e.player.playDirection===-1&&n&&e.player.currentFrame<n[0]&&e.player.pause()}}),u.set(this,{writable:!0,value:function(){e.player.playDirection!==-1&&e.holdStatus!==null&&e.holdStatus||(e.player.setDirection(1),e.player.play(),e.holdStatus=!0)}}),v.set(this,{writable:!0,value:function(){e.actions[e.interactionIdx].transition==="hold"||e.actions[e.interactionIdx].state==="hold"||e.actions[0].type==="hold"?(e.player.setDirection(-1),e.player.play()):e.actions[e.interactionIdx].transition!=="pauseHold"&&e.actions[e.interactionIdx].state!=="pauseHold"&&e.actions[0].type!=="pauseHold"||e.player.pause(),e.holdStatus=!1}}),D.set(this,{writable:!0,value:function(){if(e.container.removeEventListener("click",t(e,d)),e.container.removeEventListener("click",t(e,w)),e.container.removeEventListener("mouseenter",t(e,d)),e.container.removeEventListener("touchstart",t(e,d)),e.container.removeEventListener("touchmove",t(e,P)),e.container.removeEventListener("mouseenter",t(e,w)),e.container.removeEventListener("touchstart",t(e,w)),e.container.removeEventListener("mouseenter",t(e,u)),e.container.removeEventListener("touchstart",t(e,u)),e.container.removeEventListener("mouseleave",t(e,v)),e.container.removeEventListener("mousemove",t(e,k)),e.container.removeEventListener("mouseout",t(e,S)),e.container.removeEventListener("touchend",t(e,v)),e.player)try{e.player.removeEventListener("loopComplete",t(e,b)),e.player.removeEventListener("complete",t(e,b)),e.player.removeEventListener("enterFrame",t(e,A)),e.player.removeEventListener("enterFrame",t(e,T))}catch{}}}),q(this,"jumpToInteraction",function(n){t(e,D).call(e),e.interactionIdx=n,e.interactionIdx<0?e.interactionIdx=0:e.interactionIdx,e.nextInteraction(!1)}),q(this,"nextInteraction",function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e.oldInterctionIdx=e.interactionIdx,t(e,D).call(e),e.player.loop=!1;var i=e.actions[e.interactionIdx].jumpTo;i?i>=0&&i<e.actions.length?(e.interactionIdx=i,t(e,g).call(e,{ignorePath:!1})):(e.interactionIdx=0,e.player.goToAndStop(0,!0),t(e,g).call(e,{ignorePath:!1})):(n&&e.interactionIdx++,e.interactionIdx>=e.actions.length?e.actions[e.actions.length-1].reset?(e.interactionIdx=0,e.player.resetSegments(!0),e.actions[e.interactionIdx].frames?e.player.goToAndStop(e.actions[e.interactionIdx].frames,!0):e.player.goToAndStop(0,!0),t(e,g).call(e,{ignorePath:!1})):(e.interactionIdx=e.actions.length-1,t(e,g).call(e,{ignorePath:!1})):t(e,g).call(e,{ignorePath:!1})),e.container.dispatchEvent(new CustomEvent("transition",{bubbles:!0,composed:!0,detail:{oldIndex:e.oldInterctionIdx,newIndex:e.interactionIdx}}))}),j.set(this,{writable:!0,value:function(n){var i=e.actions[e.interactionIdx].frames;if(!i)return e.player.resetSegments(!0),void e.player.goToAndPlay(0,!0);typeof i=="string"?e.player.goToAndPlay(i,n):e.player.playSegments(i,n)}}),z.set(this,{writable:!0,value:function(){var n=e.actions[e.interactionIdx].path;if(!n)if(h(e.enteredPlayer)==="object"&&e.enteredPlayer.constructor.name==="AnimationItem"){if(n=e.enteredPlayer,e.player===n)return void t(e,g).call(e,{ignorePath:!0})}else{var i=(n=e.loadedAnimation).substr(n.lastIndexOf("/")+1);if(i=i.substr(0,i.lastIndexOf(".json")),e.player.fileName===i)return void t(e,g).call(e,{ignorePath:!0})}var p=e.container.getBoundingClientRect(),a="width: "+p.width+"px !important; height: "+p.height+"px !important; background: "+e.container.style.background;if(e.container.setAttribute("style",a),h(e.enteredPlayer)!=="object"||e.enteredPlayer.constructor.name!=="AnimationItem"){if(typeof e.enteredPlayer=="string"){var E=document.querySelector(e.enteredPlayer);E&&E.nodeName==="LOTTIE-PLAYER"&&(e.attachedListeners||(E.addEventListener("ready",function(){e.container.style.width="",e.container.style.height=""}),E.addEventListener("load",function(){e.player=E.getLottie(),t(e,g).call(e,{ignorePath:!0})}),e.attachedListeners=!0),E.load(n))}else e.enteredPlayer instanceof HTMLElement&&e.enteredPlayer.nodeName==="LOTTIE-PLAYER"&&(e.attachedListeners||(e.enteredPlayer.addEventListener("ready",function(){e.container.style.width="",e.container.style.height=""}),e.enteredPlayer.addEventListener("load",function(){e.player=e.enteredPlayer.getLottie(),t(e,g).call(e,{ignorePath:!0})}),e.attachedListeners=!0),e.enteredPlayer.load(n));if(!e.player)throw new Error("".concat(O," Specified player is invalid."),e.enteredPlayer)}else{if(!window.lottie)throw new Error("".concat(O," A Lottie player is required."));e.stop(),e.container.innerHTML="",h(n)==="object"&&n.constructor.name==="AnimationItem"?e.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,animationData:n.animationData,container:e.container}):e.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,path:n,container:e.container}),e.player.addEventListener("DOMLoaded",function(){e.container.style.width="",e.container.style.height="",t(e,g).call(e,{ignorePath:!0})})}e.clickCounter=0,e.playCounter=0}}),g.set(this,{writable:!0,value:function(n){var i=n.ignorePath,p=e.actions[e.interactionIdx].frames,a=e.actions[e.interactionIdx].state,E=e.actions[e.interactionIdx].transition,C=e.actions[e.interactionIdx].path,W=e.stateHandler.get(a),L=e.transitionHandler.get(E),Z=e.actions[e.interactionIdx].speed?e.actions[e.interactionIdx].speed:1,$=e.actions[e.interactionIdx].delay?e.actions[e.interactionIdx].delay:0;i||!(C||e.actions[e.actions.length-1].reset&&e.interactionIdx===0)?setTimeout(function(){p&&(e.player.autoplay=!1,e.player.resetSegments(!0),e.player.goToAndStop(p[0],!0)),W?W.call():a==="none"&&(e.player.loop=!1,e.player.autoplay=!1),L&&L.call(),e.player.autoplay&&(e.player.resetSegments(!0),t(e,j).call(e,!0)),e.player.setSpeed(Z)},$):t(e,z).call(e)}}),H.set(this,{writable:!0,value:function(n,i){if(n!==-1&&i!==-1){var p=e.getContainerCursorPosition(n,i);n=p.x,i=p.y}var a=e.actions.find(function(W){var L=W.position;if(L){if(Array.isArray(L.x)&&Array.isArray(L.y))return n>=L.x[0]&&n<=L.x[1]&&i>=L.y[0]&&i<=L.y[1];if(!Number.isNaN(L.x)&&!Number.isNaN(L.y))return n===L.x&&i===L.y}return!1});if(a)if(a.type==="seek"||a.transition==="seek"){var E=(n-a.position.x[0])/(a.position.x[1]-a.position.x[0]),C=(i-a.position.y[0])/(a.position.y[1]-a.position.y[0]);e.player.playSegments(a.frames,!0),a.position.y[0]<0&&a.position.y[1]>1?e.player.goToAndStop(Math.floor(E*e.player.totalFrames),!0):e.player.goToAndStop(Math.ceil((E+C)/2*e.player.totalFrames),!0)}else a.type==="loop"?e.player.playSegments(a.frames,!0):a.type==="play"?(e.player.isPaused===!0&&e.player.resetSegments(),e.player.playSegments(a.frames)):a.type==="stop"&&(e.player.resetSegments(!0),e.player.goToAndStop(a.frames[0],!0))}}),R.set(this,{writable:!0,value:function(){var n=e.getContainerVisibility(),i=e.actions.find(function(E){var C=E.visibility;return n>=C[0]&&n<=C[1]});if(i)if(i.type==="seek"){var p=i.frames[0],a=i.frames.length==2?i.frames[1]:e.player.totalFrames-1;e.assignedSegment!==null&&(e.player.resetSegments(!0),e.assignedSegment=null),e.player.goToAndStop(p+Math.round((n-i.visibility[0])/(i.visibility[1]-i.visibility[0])*(a-p)),!0)}else if(i.type==="loop")e.player.loop=!0,(e.assignedSegment===null||e.assignedSegment!==i.frames||e.player.isPaused===!0)&&(e.player.playSegments(i.frames,!0),e.assignedSegment=i.frames);else if(i.type==="play"||i.type==="playOnce"){if(i.type==="playOnce"&&!e.scrolledAndPlayed)return e.scrolledAndPlayed=!0,e.player.resetSegments(!0),void(i.frames?e.player.playSegments(i.frames,!0):e.player.play());i.type==="play"&&e.player.isPaused&&(e.player.resetSegments(!0),i.frames?e.player.playSegments(i.frames,!0):e.player.play())}else i.type==="stop"&&e.player.goToAndStop(i.frames[0],!0)}}),this.enteredPlayer=s,h(s)!=="object"||s.constructor.name!=="AnimationItem"){if(typeof s=="string"){var M=document.querySelector(s);M&&M.nodeName==="LOTTIE-PLAYER"&&(s=M.getLottie())}else s instanceof HTMLElement&&s.nodeName==="LOTTIE-PLAYER"&&(s=s.getLottie());if(!s){var F=O+"Specified player:"+s+" is invalid.";throw new Error(F)}}typeof f=="string"&&(f=document.querySelector(f)),f||(f=s.wrapper),this.player=s,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=f,this.mode=c,this.actions=y,this.options=I,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.oldInterctionIdx=0,this.clickCounter=0,this.playCounter=0,this.stateHandler=new Map,this.transitionHandler=new Map}var r,l;return r=o,(l=[{key:"getContainerVisibility",value:function(){var e=this.container.getBoundingClientRect(),m=e.top,y=e.height;return(window.innerHeight-m)/(window.innerHeight+y)}},{key:"getContainerCursorPosition",value:function(e,m){var y=this.container.getBoundingClientRect(),f=y.top;return{x:(e-y.left)/y.width,y:(m-f)/y.height}}},{key:"initScrollMode",value:function(){this.player.stop(),window.addEventListener("scroll",t(this,R),!0)}},{key:"initCursorMode",value:function(){this.actions&&this.actions.length===1?this.actions[0].type==="click"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",t(this,d))):this.actions[0].type==="hover"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("mouseenter",t(this,d)),this.container.addEventListener("touchstart",t(this,d),{passive:!0})):this.actions[0].type==="toggle"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",t(this,N))):this.actions[0].type==="hold"||this.actions[0].type==="pauseHold"?(this.container.addEventListener("mouseenter",t(this,u)),this.container.addEventListener("mouseleave",t(this,v)),this.container.addEventListener("touchstart",t(this,u),{passive:!0}),this.container.addEventListener("touchend",t(this,v),{passive:!0})):this.actions[0].type==="seek"&&(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",t(this,k)),this.container.addEventListener("touchmove",t(this,P),{passive:!1}),this.container.addEventListener("mouseout",t(this,S))):(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",t(this,k)),this.container.addEventListener("mouseleave",t(this,S)),t(this,H).call(this,-1,-1))}},{key:"initChainMode",value:function(){t(this,X).call(this),this.player.loop=!1,this.player.stop(),t(this,g).call(this,{ignorePath:!1})}},{key:"start",value:function(){var e=this;this.mode==="scroll"?this.player.isLoaded?this.initScrollMode():this.player.addEventListener("DOMLoaded",function(){e.initScrollMode()}):this.mode==="cursor"?this.player.isLoaded?this.initCursorMode():this.player.addEventListener("DOMLoaded",function(){e.initCursorMode()}):this.mode==="chain"&&(this.player.isLoaded?this.initChainMode():this.player.addEventListener("DOMLoaded",function(){e.initChainMode()}))}},{key:"redefineOptions",value:function(e){var m=e.actions,y=e.container,f=e.mode,c=e.player,s=B(e,["actions","container","mode","player"]);if(this.stop(),this.enteredPlayer=c,h(c)!=="object"||c.constructor.name!=="AnimationItem"){if(typeof c=="string"){var I=document.querySelector(c);I&&I.nodeName==="LOTTIE-PLAYER"&&(c=I.getLottie())}else c instanceof HTMLElement&&c.nodeName==="LOTTIE-PLAYER"&&(c=c.getLottie());if(!c)throw new Error(O+"Specified player:"+c+" is invalid.",c)}typeof y=="string"&&(y=document.querySelector(y)),y||(y=c.wrapper),this.player=c,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=y,this.mode=f,this.actions=m,this.options=s,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.clickCounter=0,this.playCounter=0,this.holdStatus=null,this.stateHandler=new Map,this.transitionHandler=new Map,this.start()}},{key:"stop",value:function(){if(this.mode==="scroll"&&window.removeEventListener("scroll",t(this,R),!0),this.mode==="cursor"&&(this.container.removeEventListener("click",t(this,d)),this.container.removeEventListener("click",t(this,N)),this.container.removeEventListener("mouseenter",t(this,d)),this.container.removeEventListener("touchstart",t(this,d)),this.container.removeEventListener("touchmove",t(this,P)),this.container.removeEventListener("mousemove",t(this,k)),this.container.removeEventListener("mouseleave",t(this,S)),this.container.removeEventListener("touchstart",t(this,u)),this.container.removeEventListener("touchend",t(this,v))),this.mode==="chain"&&(this.container.removeEventListener("click",t(this,d)),this.container.removeEventListener("click",t(this,w)),this.container.removeEventListener("mouseenter",t(this,d)),this.container.removeEventListener("touchstart",t(this,d)),this.container.removeEventListener("touchmove",t(this,P)),this.container.removeEventListener("mouseenter",t(this,w)),this.container.removeEventListener("touchstart",t(this,w)),this.container.removeEventListener("mouseenter",t(this,u)),this.container.removeEventListener("touchstart",t(this,u)),this.container.removeEventListener("mouseleave",t(this,v)),this.container.removeEventListener("mousemove",t(this,k)),this.container.removeEventListener("mouseout",t(this,S)),this.container.removeEventListener("touchend",t(this,v)),this.player))try{this.player.removeEventListener("loopComplete",t(this,b)),this.player.removeEventListener("complete",t(this,b)),this.player.removeEventListener("enterFrame",t(this,A)),this.player.removeEventListener("enterFrame",t(this,T))}catch{}this.player&&(this.player.destroy(),this.player=null)}}])&&Q(r.prototype,l),o}(),X=new WeakMap,w=new WeakMap,N=new WeakMap,d=new WeakMap,k=new WeakMap,P=new WeakMap,S=new WeakMap,b=new WeakMap,_=new WeakMap,A=new WeakMap,T=new WeakMap,u=new WeakMap,v=new WeakMap,D=new WeakMap,j=new WeakMap,z=new WeakMap,g=new WeakMap,H=new WeakMap,R=new WeakMap,G=function(o){var r=new V(o);return r.start(),r};x.LottieInteractivity=V,x.create=G,x.default=G,Object.defineProperty(x,"__esModule",{value:!0})})});export default te();
